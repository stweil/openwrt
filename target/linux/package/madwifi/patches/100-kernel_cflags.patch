diff -urN madwifi.old/hal/public/mips-be-elf.inc madwifi.new/hal/public/mips-be-elf.inc
--- madwifi.old/hal/public/mips-be-elf.inc	2005-11-02 15:33:27.000000000 +0100
+++ madwifi.new/hal/public/mips-be-elf.inc	2006-01-13 12:15:02.000000000 +0100
@@ -66,5 +66,5 @@
 
 LDOPTS=	-EB
 COPTS+=	-DAH_BYTE_ORDER=AH_BIG_ENDIAN
-COPTS+=	-G 0 -EB -mno-abicalls -fno-pic -mips2 -Wa,--trap \
+COPTS+=	-G 0 -mno-abicalls -fno-pic -mips32 -Wa,--trap \
 	-fno-strict-aliasing -fno-common -fomit-frame-pointer -mlong-calls
diff -urN madwifi.old/hal/public/mips-le-elf.inc madwifi.new/hal/public/mips-le-elf.inc
--- madwifi.old/hal/public/mips-le-elf.inc	2005-11-02 15:33:27.000000000 +0100
+++ madwifi.new/hal/public/mips-le-elf.inc	2006-01-13 12:15:02.000000000 +0100
@@ -63,5 +63,5 @@
 
 LDOPTS=	-EL
 COPTS+=	-DAH_BYTE_ORDER=AH_LITTLE_ENDIAN
-COPTS+=	-G 0 -EL -mno-abicalls -fno-pic -mips2 -Wa,--trap \
+COPTS+=	-G 0 -mno-abicalls -fno-pic -mips32 -Wa,--trap \
 	-fno-strict-aliasing -fno-common -fomit-frame-pointer -mlong-calls
diff -urN madwifi.old/Makefile madwifi.new/Makefile
--- madwifi.old/Makefile	2006-01-06 23:52:45.000000000 +0100
+++ madwifi.new/Makefile	2006-01-13 12:15:57.000000000 +0100
@@ -53,7 +53,7 @@
 
 all: modules tools
 
-modules: configcheck
+modules:
 	mkdir -p ${SYMBOLSDIR}
 	for i in ${DIRS_MODULES}; do \
 		$(MAKE) -C $$i || exit 1; \
